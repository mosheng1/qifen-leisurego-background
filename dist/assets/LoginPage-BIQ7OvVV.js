import{i as L,_ as X,o as M,a as k,c as q,b as C,u as T,r as i,d as B,e as s,w as c,f as _,g as E,h as S,j as I,k as V,l as W,m as N,n as $,E as K,p as U,q as j}from"./index-Dhh0PuZ4.js";import{_ as z}from"./logo-DoL_LNH1.js";const A=({username:l,password:o})=>L.post("/bg/login",{username:l,password:o}),P={class:"totalcontainer"},R=C('<div class="laya-please layer-1" data-v-21386dd2></div><div class="laya-please layer-2" data-v-21386dd2></div><div class="container1" data-v-21386dd2><div class="laya-please layer-3" data-v-21386dd2></div><div class="laya-please layer-4" data-v-21386dd2></div><div class="laya-please layer-5" data-v-21386dd2></div><div class="laya-please layer-6" data-v-21386dd2></div></div><div class="container2" data-v-21386dd2><div class="laya-please layer-7" data-v-21386dd2></div><div class="laya-please layer-8" data-v-21386dd2></div></div>',4),D=[R],F={__name:"LoginBg",setup(l){return M(()=>{const o=document.querySelectorAll(".laya-please");document.querySelector(".layer-2");const r=document.querySelector(".layer-3"),u=document.querySelector(".layer-4"),f=document.querySelector(".layer-5"),n=document.querySelector(".layer-6"),g=document.querySelector(".layer-7"),p=document.querySelector(".layer-8");setTimeout(function(){o.forEach(function(e,t){e.style.animation="none"})},1500),document.body.addEventListener("mousemove",function(e){e.currentTarget.dataset.triggered||o.forEach(function(v,b){v.getAttribute("style")&&(v.style.transition="all .5s",v.style.transform="none")}),e.currentTarget.dataset.triggered=!0;let t=window.innerWidth/2,m=(t-e.pageX)/50,a=(t-e.pageX)/40,d=(t-e.pageX)/30,w=(t-e.pageX)/20,y=(t-e.pageX)/10,x=(t-e.pageX)/5;r.style.transform="translateX("+m+"px)",u.style.transform="translateX("+a+"px)",f.style.transform="translateX("+d+"px)",n.style.transform="translateX("+w+"px)",g.style.transform="translateX("+y+"px)",p.style.transform="translateX("+x+"px)"}),document.body.addEventListener("mouseleave",function(e){o.forEach(function(t,m){t.style.transition="all .5s",t.style.transform="none"})}),document.body.addEventListener("mouseenter",function(e){o.forEach(function(t,m){setTimeout(function(){t.style.transition="none"},500)})})}),(o,r)=>(k(),q("div",P,D))}},G=X(F,[["__scopeId","data-v-21386dd2"]]),H=l=>(U("data-v-c58e4139"),l=l(),j(),l),J={class:"login"},O={class:"login-right"},Q=H(()=>E("img",{class:"logo",src:z,alt:""},null,-1)),Y={__name:"LoginPage",setup(l){$(a=>({d5a13268:u.value,"31719d76":r.value}));const o=T(),r=i("35%"),u=i("block"),f=i(),n=i({username:"admin",password:"admin"}),g=B(),p=async()=>{try{await f.value.validate();const{data:a}=await A(n.value);console.log(a),g.setToken(a.data.token),g.user=a.data,o.push("/")}catch(a){K("登录错误"),console.log(a)}},e={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:2,max:10,message:"用户名长度在2到10个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^\S{4,16}$/,message:"密码长度在4到16位的非空字符",trigger:"blur"}]};(()=>{const a=()=>{window.innerWidth<890?r.value="70%":(r.value="25%",u.value="block"),window.innerWidth<800&&(u.value="none")};a(),window.addEventListener("resize",()=>{a()})})(),i(null);const m=i(null);return(a,d)=>{const w=_("el-input"),y=_("el-form-item"),x=_("el-button"),v=_("el-form"),b=_("el-row");return k(),q("div",J,[s(b,{class:"login-container",ref_key:"loginContainer",ref:m,type:"flex",justify:"center",align:"middle"},{default:c(()=>[s(G),E("div",O,[s(v,{ref_key:"form",ref:f,model:n.value,rules:e,class:"login-form","label-position":"top","label-width":"auto"},{default:c(()=>[Q,s(y,{label:"",prop:"username"},{default:c(()=>[s(w,{"prefix-icon":S(I),class:"input",modelValue:n.value.username,"onUpdate:modelValue":d[0]||(d[0]=h=>n.value.username=h),onKeyup:V(p,["enter","native"])},null,8,["prefix-icon","modelValue"])]),_:1}),s(y,{label:"",prop:"password"},{default:c(()=>[s(w,{type:"password","prefix-icon":S(W),class:"input","show-password":"",modelValue:n.value.password,"onUpdate:modelValue":d[1]||(d[1]=h=>n.value.password=h),onKeyup:V(p,["enter","native"])},null,8,["prefix-icon","modelValue"])]),_:1}),s(y,null,{default:c(()=>[s(x,{style:{width:"230px","font-size":"12px","border-radius":"16px","margin-top":"20px"},color:"rgb(255, 193, 0)",type:"primary",onClick:p},{default:c(()=>[N("登录")]),_:1})]),_:1})]),_:1},8,["model"])])]),_:1},512)])}}},te=X(Y,[["__scopeId","data-v-c58e4139"]]);export{te as default};
