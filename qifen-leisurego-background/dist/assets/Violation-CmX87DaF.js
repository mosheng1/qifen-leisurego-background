import{p as C}from"./PageContainer-C64bxy9F.js";import{H as z,_ as S,r,fi as k,c as I,e,w as a,a as g,fj as N,t as B,k as v,y as m,h as T,F as j,f as o}from"./index-DQbwl3Hd.js";const E=({pageNum:d,pageSize:t,type:n,id:s})=>z.post("/api/bg/violations/list",{pageNum:d,pageSize:t,type:n,id:s}),F={class:"container"},H={__name:"Violation",setup(d){const t=r([]),n=r({pageNum:1,pageSize:10,type:"",id:""}),s=r(!1),p=async()=>{s.value=!0;const{data:l}=await E(n.value);s.value=!1,t.value=l.data,console.log(t.value)};p();const f=l=>{n.value.pageNum=l,p()},c=r(""),h=()=>{c.value===""?p():t.value.list=t.value.list.filter(l=>l.auditId.toString().includes(c.value.toString()))};return(l,_)=>{const u=o("el-table-column"),b=o("el-button"),w=o("el-input"),x=o("el-tag"),y=o("el-table"),D=o("el-pagination"),V=k("loading");return g(),I("div",F,[e(C,{title:"违规内容"},{default:a(()=>[N((g(),B(y,{data:t.value.list,style:{width:"100%"},size:"large"},{default:a(()=>[e(u,{label:"编号"},{default:a(i=>[v(m(i.$index+1),1)]),_:1}),e(u,{prop:"auditId",label:"ID"}),e(u,{prop:"type",label:"违规类型"}),e(u,{align:"right",width:"220"},{header:a(()=>[e(w,{size:"small",modelValue:c.value,"onUpdate:modelValue":_[0]||(_[0]=i=>c.value=i),style:{"max-width":"600px"},placeholder:"输入ID进行搜索",class:"input-with-select"},{append:a(()=>[e(b,{onClick:h,icon:T(j)},null,8,["icon"])]),_:1},8,["modelValue"])]),default:a(i=>[e(x,{type:"danger"},{default:a(()=>[v(m(i.row.auditDesc),1)]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[V,s.value]]),e(D,{layout:"prev, pager, next",total:t.value.total,"page-size":n.value.pageSize,onCurrentChange:f,"hide-on-single-page":"true"},null,8,["total","page-size"])]),_:1})])}}},$=S(H,[["__scopeId","data-v-e3320e46"]]);export{$ as default};
